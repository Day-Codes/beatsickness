{
  "version": 3,
  "sources": ["../code/main.js"],
  "sourcesContent": ["scene(\"start\", () => {\n\tplay(\"gong\");\n\tadd([\n\t\ttext(\"EAT\\nALL\\nBOMB\\nEAT\\nONLY\\nBOMB\", 40),\n\t]);\n\twait(1.5, () => {\n\t\tgo(\"game\");\n\t})\n});\n\n// main game scene content\nscene(\"game\", () => {\n\n\tconst SPEED_MIN = 80;\n\tconst SPEED_MAX = 480;\n\t\n\t// add the player game object\n\tconst player = add([\n\t\tsprite(\"mouth\"),\n\t\tpos(40, 20),\n\t\tscale(0.5),\n\t\tarea(0.5),\n\t\torigin(\"center\"),\n\t]); \n\n\t// make the layer move by mouse\n\tplayer.action(() => {\n\t\tplayer.pos = mousePos();\n\t});\n\n\t// game over if player eats a fruit\n\tplayer.collides(\"fruit\", () => {\n\t\tgo(\"gameover\", score);\n\t\tplay(\"bye\");\n\t});\n\n\t// move the food every frame, destroy it if far outside of screen\n\taction(\"food\", (food) => {\n\t\tfood.move(-food.speed, 0);\n\t\tif (food.pos.x < -120) {\n\t\t\tdestroy(food);\n\t\t}\n\t});\n\n\taction(\"bomb\", (bomb) => {\n\t\tif (bomb.pos.x <= 0) {\n\t\t\tgo(\"gameover\", score);\n\t\t\tplay(\"bye\");\n\t\t}\n\t});\n\n\t// score counter\n\tlet score = 0;\n\n\tconst scoreLabel = add([\n\t\ttext(score, 32),\n\t\tpos(12, 12),\n\t]);\n\n\t// increment score if player eats a bomb\n\tplayer.collides(\"bomb\", (bomb) => {\n\t\tscore += 1;\n\t\tdestroy(bomb);\n\t\tscoreLabel.text = score;\n\t\tburp();\n\t\tshake(4);\n\t});\n\n\t// do this every 0.3 seconds\n\tloop(0.3, () => {\n\n\t\t// spawn from right side of the screen\n\t\tconst x = width() + 24;\n\t\t// spawn from a random y position\n\t\tconst y = rand(0, height());\n\t\t// get a random speed\n\t\tconst speed = rand(SPEED_MIN, SPEED_MAX);\n\t\t// 50% percent chance is bomb\n\t\tconst isBomb = chance(0.5);\n\t\tconst spriteName = isBomb ?\n\t\t\t\"bomb\"\n\t\t\t: choose([\"peach\", \"banana\", \"watermelon\"])\n\n\t\tadd([\n\t\t\tsprite(spriteName),\n\t\t\tpos(x, y),\n\t\t\tscale(0.5),\n\t\t\tarea(0.5),\n\t\t\torigin(\"center\"),\n\t\t\t\"food\",\n\t\t\tisBomb ? \"bomb\" : \"fruit\",\n\t\t\t{ speed: speed }\n\t\t]);\n\n\t});\n\n});\n\n// game over scene\nscene(\"gameover\", (score) => {\n\n\t// display score\n\tadd([\n\t\ttext(score, 120),\n\t\tpos(center()),\n\t\torigin(\"center\"),\n\t]);\n\n\t// go back to game scene on key press\n\tkeyPress(\"space\", () => {\n\t\tgo(\"start\");\n\t});\n\n});\n\n// start with the \"game\" scene\ngo(\"start\");"],
  "mappings": "MAAA,MAAM,QAAS,IAAM,CACpB,KAAK,QACL,IAAI,CACH,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,MAAmC,MAEzC,KAAK,IAAK,IAAM,CACf,GAAG,YAKL,MAAM,OAAQ,IAAM,CAEnB,GAAM,GAAY,GACZ,EAAY,IAGZ,EAAS,IAAI,CAClB,OAAO,SACP,IAAI,GAAI,IACR,MAAM,IACN,KAAK,IACL,OAAO,YAIR,EAAO,OAAO,IAAM,CACnB,EAAO,IAAM,aAId,EAAO,SAAS,QAAS,IAAM,CAC9B,GAAG,WAAY,GACf,KAAK,SAIN,OAAO,OAAQ,AAAC,GAAS,CACxB,EAAK,KAAK,CAAC,EAAK,MAAO,GACnB,EAAK,IAAI,EAAI,MAChB,QAAQ,KAIV,OAAO,OAAQ,AAAC,GAAS,CACxB,AAAI,EAAK,IAAI,GAAK,GACjB,IAAG,WAAY,GACf,KAAK,UAKP,GAAI,GAAQ,EAEN,EAAa,IAAI,CACtB,KAAK,EAAO,IACZ,IAAI,GAAI,MAIT,EAAO,SAAS,OAAQ,AAAC,GAAS,CACjC,GAAS,EACT,QAAQ,GACR,EAAW,KAAO,EAClB,OACA,MAAM,KAIP,KAAK,GAAK,IAAM,CAGf,GAAM,GAAI,QAAU,GAEd,EAAI,KAAK,EAAG,UAEZ,EAAQ,KAAK,EAAW,GAExB,EAAS,OAAO,IAChB,EAAa,EAClB,OACE,OAAO,CAAC,QAAS,SAAU,eAE9B,IAAI,CACH,OAAO,GACP,IAAI,EAAG,GACP,MAAM,IACN,KAAK,IACL,OAAO,UACP,OACA,EAAS,OAAS,QAClB,CAAE,MAAO,SAQZ,MAAM,WAAY,AAAC,GAAU,CAG5B,IAAI,CACH,KAAK,EAAO,KACZ,IAAI,UACJ,OAAO,YAIR,SAAS,QAAS,IAAM,CACvB,GAAG,aAML,GAAG",
  "names": []
}
